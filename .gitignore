import pprint


prg = """
mover
cambiar_dir(derecha)
var a = 2
repita a mover
tomar
"""


prg2 = """
mover
disparar
"""

#espacio de juego
espacio = []
for i in range(8):
    espacio.append([0]*7)
    
#Posicion de los enemigos en el mapa
espacio[4][2]=99
espacio[6][2]=99
espacio[5][5]=99
espacio[3][4]=99
espacio[2][1]=99
espacio[1][5]=99

pp = pprint.PrettyPrinter()
pp.pprint(espacio)

def jugar(espacio,programa):
    # 0: arriba
    # 1: derecha
    # 2: abajo
    # 3: izquierda
    direccion = 0

    # posicion (fila,columna)
    pos = (7,0)
    # Vida del jugador
    vida = 60

    print("Inicio en posicion:",pos)
    print("Direccion inicial:",direccion)
    print("La vida inicial es:",vida)

    lineas = programa.split("\n")
    print(lineas)
    for cmd in lineas:
        print(cmd)
        print("-> ",end="")
        if cmd == "mover":
            if direccion==0: # arriba
                pos = (pos[0]-1,pos[1])
            if direccion==1: # derecha
                pos = (pos[0],pos[1]+1)
            if direccion==2: # abajo
                pos = (pos[0]+1,pos[1])
            if direccion==3: # izquierda
                pos = (pos[0],pos[1]-1)
            print("Nueva posicion:",pos)

        if cmd[0:6] == "Girar_":
            nueva_dir = cmd[12:-1]
            if nueva_dir=="arriba":
                direccion = 0
            if nueva_dir=="derecha":
                direccion = 1
            if nueva_dir=="abajo":
                direccion = 2
            if nueva_dir=="izquierda":
                direccion = 3

        if cmd == "matar":
            if espacio[pos[0]][pos[1]]==99:
                print("Mato el enemigo!!")
                espacio[pos[0]][pos[1]]=0
            else:
                print("No hay enemigo")

        if cmd == "disparar":
            if pos==(6,0) and direccion==1:
                print("Enemigo acabado")
                espacio[6][2]=0
            elif pos==(4,0) and direccion==1:
                print("Un enemigo menos")
                espacio[4][2]=0
            elif pos == (5,3) and direccion == 1:
                print("Justo en la cabeza")
                espacio[5][5]=0
            elif pos==(3,2) and direccion == 1:
                print("Enemigo muerto")
                espacio[3][4]==0
            elif pos == (3,5) and direccion==0:
                print("Enemigo asesinado")
                espacio[1][5]=0
            elif pos == (2,3) and direccion == 3:
                print("Enemigo acabado")
                espacio[2][1]=0
            else:
                print("No tengo ningun objetivo para disparar")

        if cmd == "mover":
            if pos ==(7,2):
                vidaac = vida - 10
                print("Me han disparado,Vida actual es:",vidaac)
            elif pos == (6,5):
                vidaac= vidaac-10
                print("Me han disparado,Vida actual es:",vidaac) 
            elif pos== (5,2):
                vidaac= vidaac-10
                print("Me han disparado,Vida actual es:",vidaac)
            elif pos==(4,5):
                vidaac= vidaac-10
                print("Me han disparado,Vida actual es:",vidaac)
            elif pos==(3,1):
                vidaac= vidaac-10
                print("Me han disparado,Vida actual es:",vidaac)
            elif pos==(2,5):
                vidaac= vidaac-10
                print("Me han disparado,Vida actual es:",vidaac)
            else:
                vida=vida
                print("Estoy a salvo")

        if vida == 0:
            print("Se ha terminado el juego, haz perdido")
            
        
            

            print("Nueva direccion:",direccion)
        print()

jugar(espacio,prg2)
pp.pprint(espacio)
